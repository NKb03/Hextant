{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "https://raw.githubusercontent.com/Nkb03/Hextant/master/hextant-core/src/main/resources/plugin-schema.json",
  "type": "object",
  "title": "plugin",
  "description": "Describes a plugin for the Hextant platform",
  "default": {},
  "examples": [
    {
      "id": "core",
      "version": "1.0",
      "name": "Core",
      "author": "Nikolaus Knop",
      "type": "Global",
      "description": "The Core of Hextant",
      "initializer": "hextant.core.Core",
      "dependencies": [
        {
          "id": "core",
          "minVersion": "1.0",
          "maxVersion": "1.0"
        }
      ],
      "projectTypes": [
        {
          "name": "Expression project",
          "clazz": "hextant.expr.ExprProject"
        }
      ],
      "aspects": [
        {
          "name": "hextant.core.EditorView",
          "target": "hextant.core.Editor",
          "optional": true,
          "type": "Instance"
        }
      ],
      "cases": [
        {
          "name": "hextant.core.editor.Expander",
          "interfaces": [
            "hextant.core.EditorView"
          ]
        }
      ],
      "implementations": [
        {
          "name": "hextant.core.view.ExpanderControl",
          "aspect": "hextant.core.EditorView",
          "case": "hextant.core.editor.Expander"
        }
      ]
    }
  ],
  "required": [
    "id",
    "version",
    "name",
    "author",
    "type",
    "description",
    "initializer"
  ],
  "properties": {
    "id": {
      "$id": "#/properties/id",
      "type": "string",
      "title": "The id schema",
      "description": "The id of the plugin is used to identify it",
      "default": "",
      "examples": [
        "core"
      ]
    },
    "version": {
      "$id": "#/properties/version",
      "type": "string",
      "title": "The version schema",
      "description": "The version of the plugin",
      "default": "",
      "examples": [
        "1.0"
      ]
    },
    "name": {
      "$id": "#/properties/name",
      "type": "string",
      "title": "The name schema",
      "description": "Displayed name of the plugin",
      "default": "",
      "examples": [
        "Core"
      ]
    },
    "author": {
      "$id": "#/properties/author",
      "type": "string",
      "title": "The author schema",
      "description": "The author of the plugin",
      "default": "",
      "examples": [
        "Nikolaus Knop"
      ]
    },
    "type": {
      "$id": "#/properties/type",
      "type": "string",
      "title": "The type schema",
      "description": "The type of this plugin",
      "default": "",
      "examples": [
        "Global",
        "Local",
        "Language"
      ]
    },
    "description": {
      "$id": "#/properties/description",
      "type": "string",
      "title": "The description schema",
      "description": "Describes the functionality delivered by the plugin",
      "default": "",
      "examples": [
        "The Core of Hextant"
      ]
    },
    "initializer": {
      "$id": "#/properties/initializer",
      "type": "string",
      "title": "The initializer schema",
      "description": "Locates the class that initializes the plugin.",
      "default": "",
      "examples": [
        "hextant.core.Core"
      ]
    },
    "dependencies": {
      "$id": "#/properties/dependencies",
      "type": "array",
      "title": "The dependencies schema",
      "description": "A list of dependencies of the plugin",
      "default": [],
      "examples": [
        [
          {
            "id": "core",
            "minVersion": "1.0",
            "maxVersion": "1.0"
          }
        ]
      ],
      "additionalItems": false,
      "items": {
        "$id": "#/properties/dependencies/items",
        "anyOf": [
          {
            "$id": "#/properties/dependencies/items/anyOf/0",
            "type": "object",
            "title": "The first anyOf schema",
            "description": "An explanation about the purpose of this instance.",
            "default": {},
            "examples": [
              {
                "id": "core",
                "minVersion": "1.0",
                "maxVersion": "1.0"
              }
            ],
            "required": [
              "id"
            ],
            "properties": {
              "id": {
                "$id": "#/properties/dependencies/items/anyOf/0/properties/id",
                "type": "string",
                "title": "The id schema",
                "description": "The id of the plugin depended on",
                "default": "",
                "examples": [
                  "core"
                ]
              },
              "minVersion": {
                "$id": "#/properties/dependencies/items/anyOf/0/properties/min-version",
                "type": "string",
                "title": "The min-version schema",
                "description": "The minimal accepted version of the required plugin",
                "default": "",
                "examples": [
                  "1.0"
                ]
              },
              "maxVersion": {
                "$id": "#/properties/dependencies/items/anyOf/0/properties/max-version",
                "type": "string",
                "title": "The max-version schema",
                "description": "The maximal accepted version of the required plugin",
                "default": "",
                "examples": [
                  "1.0"
                ]
              }
            },
            "additionalProperties": false
          }
        ]
      }
    },
    "projectTypes": {
      "$id": "#/properties/projectTypes",
      "type": "array",
      "title": "The projectTypes schema",
      "description": "A list of project types supported by this plugin",
      "default": [],
      "examples": [
        [
          {
            "name": "Expression project",
            "clazz": "hextant.expr.ExprProject"
          }
        ]
      ],
      "additionalItems": false,
      "items": {
        "$id": "#/properties/projectTypes/items",
        "anyOf": [
          {
            "$id": "#/properties/projectTypes/items/anyOf/0",
            "type": "object",
            "title": "The first anyOf schema",
            "description": "An explanation about the purpose of this instance.",
            "default": {},
            "examples": [
              {
                "name": "Expression project",
                "clazz": "hextant.expr.ExprProject"
              }
            ],
            "required": [
              "name",
              "clazz"
            ],
            "properties": {
              "name": {
                "$id": "#/properties/projectTypes/items/anyOf/0/properties/name",
                "type": "string",
                "title": "The name schema",
                "description": "The visible name of the project type",
                "default": "",
                "examples": [
                  "Expression project"
                ]
              },
              "clazz": {
                "$id": "#/properties/projectTypes/items/anyOf/0/properties/class",
                "type": "string",
                "title": "The class schema",
                "description": "The location of the class implementing the project type",
                "default": "",
                "examples": [
                  "hextant.expr.ExprProject"
                ]
              }
            },
            "additionalProperties": false
          }
        ]
      }
    },
    "aspects": {
      "$id": "#/properties/aspects",
      "type": "array",
      "title": "The aspects schema",
      "description": "The aspects used by the plugin",
      "default": [],
      "examples": [
        [
          {
            "name": "hextant.core.EditorView",
            "target": "hextant.core.Editor",
            "type": "Instance"
          }
        ]
      ],
      "additionalItems": false,
      "items": {
        "$id": "#/properties/aspects/items",
        "anyOf": [
          {
            "$id": "#/properties/aspects/items/anyOf/0",
            "type": "object",
            "title": "The first anyOf schema",
            "description": "An explanation about the purpose of this instance.",
            "default": {},
            "examples": [
              {
                "name": "hextant.core.EditorView",
                "target": "hextant.core.Editor",
                "type": "Instance"
              }
            ],
            "required": [
              "name",
              "target"
            ],
            "properties": {
              "name": {
                "$id": "#/properties/aspects/items/anyOf/0/properties/name",
                "type": "string",
                "title": "The name schema",
                "description": "The interface representing the aspect",
                "default": "",
                "examples": [
                  "hextant.core.EditorView"
                ]
              },
              "target": {
                "$id": "#/properties/aspects/items/anyOf/0/properties/target",
                "type": "string",
                "title": "The target schema",
                "description": "The interface to which the aspect is added",
                "default": "",
                "examples": [
                  "hextant.core.Editor"
                ]
              },
              "optional": {
                "$id": "#/properties/aspects/items/anyOf/0/properties/optional",
                "type": "boolean",
                "title": "The optional schema",
                "description": "Whether this aspect is mandatory or optional",
                "default": false,
                "examples": [
                  true
                ]
              },
              "type": {
                "$id": "#/properties/aspects/items/anyOf/0/properties/type",
                "type": "string",
                "title": "The type schema",
                "description": "The aspect type",
                "default": "",
                "examples": [
                  "Instance",
                  "Regular"
                ]
              }
            },
            "additionalProperties": false
          }
        ]
      }
    },
    "cases": {
      "$id": "#/properties/cases",
      "type": "array",
      "title": "The cases schema",
      "description": "The cases requested by the plugin",
      "default": [],
      "examples": [
        [
          {
            "name": "hextant.core.editor.Expander",
            "interfaces": [
              "hextant.core.EditorView"
            ]
          }
        ]
      ],
      "additionalItems": false,
      "items": {
        "$id": "#/properties/cases/items",
        "anyOf": [
          {
            "$id": "#/properties/cases/items/anyOf/0",
            "type": "object",
            "title": "The first anyOf schema",
            "description": "An explanation about the purpose of this instance.",
            "default": {},
            "examples": [
              {
                "name": "hextant.core.editor.Expander",
                "interfaces": [
                  "hextant.core.EditorView"
                ]
              }
            ],
            "required": [
              "name",
              "interfaces"
            ],
            "properties": {
              "name": {
                "$id": "#/properties/cases/items/anyOf/0/properties/name",
                "type": "string",
                "title": "The name schema",
                "description": "The class representing the case",
                "default": "",
                "examples": [
                  "hextant.core.editor.Expander"
                ]
              },
              "interfaces": {
                "$id": "#/properties/cases/items/anyOf/0/properties/interfaces",
                "type": "array",
                "title": "The interfaces schema",
                "description": "The interfaces whose aspects must be implemented for this case",
                "default": [],
                "examples": [
                  [
                    "hextant.core.EditorView"
                  ]
                ],
                "additionalItems": false,
                "items": {
                  "$id": "#/properties/cases/items/anyOf/0/properties/interfaces/items",
                  "anyOf": [
                    {
                      "$id": "#/properties/cases/items/anyOf/0/properties/interfaces/items/anyOf/0",
                      "type": "string",
                      "title": "The first anyOf schema",
                      "description": "An explanation about the purpose of this instance.",
                      "default": "",
                      "examples": [
                        "hextant.core.EditorView"
                      ]
                    }
                  ]
                }
              }
            },
            "additionalProperties": false
          }
        ]
      }
    },
    "implementations": {
      "$id": "#/properties/implementations",
      "type": "array",
      "title": "The implementations schema",
      "description": "The implementations given by the plugin",
      "default": [],
      "examples": [
        [
          {
            "name": "hextant.core.view.ExpanderControl",
            "aspect": "hextant.core.EditorView",
            "case": "hextant.core.editor.Expander"
          }
        ]
      ],
      "additionalItems": false,
      "items": {
        "$id": "#/properties/implementations/items",
        "anyOf": [
          {
            "$id": "#/properties/implementations/items/anyOf/0",
            "type": "object",
            "title": "The first anyOf schema",
            "description": "An explanation about the purpose of this instance.",
            "default": {},
            "examples": [
              {
                "name": "hextant.core.view.ExpanderControl",
                "aspect": "hextant.core.EditorView",
                "case": "hextant.core.editor.Expander"
              }
            ],
            "required": [
              "name",
              "aspect",
              "case"
            ],
            "properties": {
              "name": {
                "$id": "#/properties/implementations/items/anyOf/0/properties/name",
                "type": "string",
                "title": "The name schema",
                "description": "The location of the class that implements the functionality",
                "default": "",
                "examples": [
                  "hextant.core.view.ExpanderControl"
                ]
              },
              "aspect": {
                "$id": "#/properties/implementations/items/anyOf/0/properties/aspect",
                "type": "string",
                "title": "The aspect schema",
                "description": "The location of the interface that represents the implemented aspect",
                "default": "",
                "examples": [
                  "hextant.core.EditorView"
                ]
              },
              "case": {
                "$id": "#/properties/implementations/items/anyOf/0/properties/case",
                "type": "string",
                "title": "The case schema",
                "description": "The location of the class that represents the case for which the aspect is implemented",
                "default": "",
                "examples": [
                  "hextant.core.editor.Expander"
                ]
              }
            },
            "additionalProperties": false
          }
        ]
      }
    }
  },
  "additionalProperties": false
}